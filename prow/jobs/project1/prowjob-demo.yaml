branch_spec: &branch_spec
  - ^master$
presubmits:
  awsgcr/aws-infra:
    - name: pull-unit-test # convention: (job type)-(repo name)-(suite name)
      run_if_changed: '^app/gitops-prow-demo/main.go$'
      agent: kubernetes
      always_run: false
      spec:
        containers:
          - image: golang:latest  # 为了demo演示，故意先用alpine 单元测试会报错, 正常使用 latest
            command: [ "go","test","." ]
